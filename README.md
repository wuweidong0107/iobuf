# iobuf

A simple io buffer.

# Build and Run
```Bash
$ make clean && make              # build release version

$ ./test
PASS

$ make clean && make ver=debug    # build debug version

$ ./test 
memory realloc: 0 ---> 4096
   0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(0) cap(4096)
   0  00 00 00 68 65 6c 6c 6f  00 00 00 00 00 00 00 00  |...hello........|
  10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  30  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(8) cap(4096)
   0  00 00 00 68 65 6c 6c 6f  00 00 00 00 00 00 00 00  |...hello........|
  10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  30  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(8) cap(4096)
   0  00 00 00 68 65 6c 6c 6f  00 00 00 00 00 00 00 00  |...hello........|
  10  62 79 65 00 00 00 00 00  00 00 00 00 00 00 00 00  |bye.............|
  20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  30  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(19) cap(4096)
   0  68 65 6c 6c 6f 00 00 00  00 00 00 00 00 62 79 65  |hello........bye|
  10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  30  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(16) cap(4096)
   0  68 65 6c 6c 6f 00 00 00  00 00 00 00 00 00 00 00  |hello...........|
  10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  30  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(10) cap(4096)
   0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  20  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  30  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
memory status: len(0) cap(4096)
PASS
```

# Usage
```C
int iobuf_init(struct iobuf *io, size_t size);
int iobuf_resize(struct iobuf *io, size_t new_size);
void iobuf_dump(struct iobuf *io, size_t len);
size_t iobuf_add(struct iobuf *io, size_t offset, const void *buf, size_t len);
size_t iobuf_del(struct iobuf *io, size_t offset, size_t len);
void iobuf_free(struct iobuf *io);
```
